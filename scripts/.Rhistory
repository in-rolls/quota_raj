chisq.test(table(raj_panch$reservation_2005, raj_panch$reservation_2020),correct = TRUE)
chisq.test(table(raj_panch$reservation_2005, raj_panch$reservation_2010),correct = TRUE)
fisher_test_result <- fisher.test(table(raj_panch$reservation_2005, raj_panch$reservation_2010))
fisher_test_result <- fisher.test(a)
a <- table(raj_panch$reservation_2005, raj_panch$reservation_2010)
fisher_test_result <- fisher.test(a)
names(raj_panch)
# Example data frame with binary treatment status for multiple years
# Replace with your actual data
data <- data.frame(
year_2005 = c(0, 1, 1, 0, 0, 1),
year_2010 = c(1, 0, 0, 1, 0, 1),
year_2015 = c(0, 1, 0, 0, 1, 1),
year_2020 = c(1, 0, 1, 1, 1, 0)
)
# Create a function to calculate the transition matrix
calculate_transition_matrix <- function(data, from_year, to_year) {
from_status <- data[[paste0("year_", from_year)]]
to_status <- data[[paste0("year_", to_year)]]
transition_matrix <- table(from_status, to_status)
rownames(transition_matrix) <- c("Control", "Treatment")
colnames(transition_matrix) <- c("Control", "Treatment")
return(transition_matrix)
}
# Calculate transition matrices for different pairs of years
transition_2005_2010 <- calculate_transition_matrix(data, 2005, 2010)
transition_2005_2010
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
## Transition Matrix
transition_matrix <- function(data, from_year, to_year) {
from_status <- data[[paste0("reservation_", from_year)]]
to_status <- data[[paste0("reservation_", to_year)]]
transition_matrix <- table(from_status, to_status)
rownames(transition_matrix) <- c("C", "T")
colnames(transition_matrix) <- c("C", "T")
return(transition_matrix)
}
transition_2005_2010 <- calculate_transition_matrix(data, raj_panch$reservation_2005, raj_panch$reservation_2010)
transition_2005_2010 <- transition_matrix(data, raj_panch$reservation_2005, raj_panch$reservation_2010)
## Transition Matrix
transition_matrix <- function(data, from_year, to_year) {
from_status <- data[[paste0("reservation_", from_year)]]
to_status <- data[[paste0("reservation_", to_year)]]
transition_matrix <- table(from_status, to_status)
rownames(transition_matrix) <- c("Control", "Treatment")
colnames(transition_matrix) <- c("Control", "Treatment")
return(transition_matrix)
}
transition_2005_2010 <- transition_matrix(data, raj_panch$reservation_2005, raj_panch$reservation_2010)
transition_2005_2010 <- transition_matrix(raj_panch, raj_panch$reservation_2005, raj_panch$reservation_2010)
## Transition Matrix
transition_matrix <- function(data, from_year, to_year) {
from_status <- data[, paste0("reservation_", from_year)]
to_status <- data[, paste0("reservation_", to_year)]
transition_matrix <- table(from_status, to_status)
rownames(transition_matrix) <- c("Control", "Treatment")
colnames(transition_matrix) <- c("Control", "Treatment")
return(transition_matrix)
}
transition_2005_2010 <- transition_matrix(raj_panch, raj_panch$reservation_2005, raj_panch$reservation_2010)
## Transition Matrix
transition_matrix <- function(data, from_year, to_year) {
from_status <- data[, paste0("reservation_", from_year)]
to_status <- data[, paste0("reservation_", to_year)]
transition_matrix <- table(from_status, to_status)
rownames(transition_matrix) <- c("Control", "Treatment")
colnames(transition_matrix) <- c("Control", "Treatment")
return(transition_matrix)
}
transition_2005_2010 <- transition_matrix(raj_panch, raj_panch$reservation_2005, raj_panch$reservation_2010)
## Transition Matrix
transition_matrix_calc <- function(data, from_year, to_year) {
from_status <- data[, paste0("reservation_", from_year)]
to_status <- data[, paste0("reservation_", to_year)]
transition_matrix <- table(from_status, to_status)
rownames(transition_matrix) <- c("Control", "Treatment")
colnames(transition_matrix) <- c("Control", "Treatment")
return(transition_matrix)
}
transition_2005_2010 <- transition_matrix_calc(raj_panch, raj_panch$reservation_2005, raj_panch$reservation_2010)
table(raj_panch$reservation_2005, raj_panch$reservation_2010)
## Transition Matrix
# List of years
years <- c("2005", "2010", "2015", "2020")
# Initialize a list to store transition matrices
transition_matrices <- list()
# Loop through years to calculate transition matrices
for (i in 1:(length(years) - 1)) {
from_year <- years[i]
to_year <- years[i + 1]
# Calculate transition matrix
transition_matrix <- table(raj_panch[[paste0("reservation_", from_year)]],
raj_panch[[paste0("reservation_", to_year)]])
# Store the transition matrix in the list
transition_matrices[[paste0(from_year, "-", to_year)]] <- transition_matrix
}
# Generate LaTeX tables for transition matrices
latex_tables <- lapply(transition_matrices, function(matrix) {
xtable(matrix, caption = "Transition Matrix", label = "table:transition_matrix")
})
# Print LaTeX tables
for (i in 1:length(latex_tables)) {
cat("\\begin{table}\n")
cat("\\centering\n")
print(latex_tables[[i]])
cat("\\end{table}\n")
}
transition_2005_2010
cat(paste("Transition Matrix from", from_year, "to", to_year, ":\n"))
# Print LaTeX tables
for (i in 1:length(latex_tables)) {
cat("\\begin{table}\n")
cat("\\centering\n")
print(latex_tables[[i]])
cat("\\end{table}\n")
cat(paste("Transition Matrix from", from_year, "to", to_year, ":\n"))
print(transition_matrix)
cat("\n")
}
?chisq.test
chisq.test(table(raj_panch$reservation_2005, raj_panch$reservation_2010),correct = TRUE,simulate.p.value = T)
table(raj_panch$reservation_2005, raj_panch$reservation_2010)
table(raj_panch$reservation_2010, raj_panch$reservation_2015)
table(raj_panch$reservation_2015, raj_panch$reservation_2020)
chisq.test(table(raj_panch$reservation_2005, raj_panch$reservation_2010), simulate.p.value = T)
chisq.test(table(sp_05_10_r2$res_women_2010, sp_05_10_r2$res_women_2015),simulate.p.value = T)
library(kableExtra)
install.packages("kableExtra")
## Transition Matrix
years <- c("2005", "2010", "2015", "2020")
# Initialize an empty data frame to store results
result_df <- data.frame(FromYear = character(), ToYear = character(),
TransitionMatrix = list(), ChiSquaredTestResult = list())
# Calculate transition matrices and chi-squared tests
for (i in 1:(length(years) - 1)) {
from_year <- years[i]
to_year <- years[i + 1]
# Calculate transition matrix
transition_matrix <- table(raj_panch[[paste0("reservation_", from_year)]],
raj_panch[[paste0("reservation_", to_year)]])
# Calculate chi-squared test
chi_squared_test <- chisq.test(transition_matrix, simulate.p.value = TRUE)
# Add the results to the data frame
result_df <- result_df %>%
bind_rows(data.frame(FromYear = from_year,
ToYear = to_year,
TransitionMatrix = list(transition_matrix),
ChiSquaredTestResult = list(chi_squared_test)))
}
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
library(kableExtra)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
# transition matrices and chi-squared tests
trans_05_10 <- table(raj_panch$reservation_2005, raj_panch$reservation_2010)
trans_10_15 <- table(raj_panch$reservation_2010, raj_panch$reservation_2015)
trans_15_20 <- table(raj_panch$reservation_2015, raj_panch$reservation_2020)
chi_sq_test_05_10 <- chisq.test(trans_05_10, simulate.p.value = TRUE)
chi_sq_test_10_15 <- chisq.test(trans_10_15, simulate.p.value = TRUE)
chi_sq_test_15_20 <- chisq.test(trans_15_20, simulate.p.value = TRUE)
# blank dataframe
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(chi_sq_test_05_10$p.value, chi_sq_test_10_15$p.value, chi_sq_test_15_20$p.value)
)
# TeX
latex_table <- results_store %>%
kable("latex") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center") %>%
add_caption("Chi-Squared Test Results")
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
library(kableExtra)
# TeX
latex_table <- results_store %>%
kable("latex") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center") %>%
add_caption("Chi-Squared Test Results")
# TeX
latex_table <- results_df %>%
kable("latex", caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
# TeX
latex_table <- results_store %>%
kable("latex", caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
cat(latex_table)
latex_table <- results_df %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE) %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center") %>%
add_header_above(c("Chi-Squared Test Result" = 2), escape = FALSE) %>%
add_caption("Chi-Squared Test Results")
latex_table <- results_df %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center") %>%
add_header_above(c("Chi-Squared Test Result" = 2), escape = FALSE)
latex_table <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center") %>%
add_header_above(c("Chi-Squared Test Result" = 2), escape = FALSE)
# TeX
latex_table <- results_df %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
# TeX
latex_table <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
# blank dataframe
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(chi_sq_test_05_10$p.value, chi_sq_test_10_15$p.value, chi_sq_test_15_20$p.value)
)
# TeX
latex_table <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
# TeX
latex_table <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
results_store <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))
results_store <- results_store %>%
latex_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
results_store <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`)))
results_store <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`)))
latex_table <- results_df %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
latex_table <- results_store %>%
mutate("Chi-Squared Test Result" = ifelse(`Chi-Squared Test Result` < 0.001, "<0.001", sprintf("%.3f", `Chi-Squared Test Result`))) %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
# Print the LaTeX table
cat(latex_table)
# blank dataframe
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(
format(chi_sq_test_a$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_b$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_c$p.value, scientific = TRUE, digits = 2)
)
)
# blank dataframe
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(
format(chi_sq_test_05_10$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_10_15$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_15_20$p.value, scientific = TRUE, digits = 2)
)
)
latex_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
#teX export
latex_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
cat(latex_table)
trans_matrices_df <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Transition Matrix" = c(
kable(trans_05_10, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_10_15, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_15_20, format = "latex", escape = FALSE, booktabs = TRUE)
)
)
cat(trans_matrices_table)
trans_matrices_table <- trans_matrices_df %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Transition Matrices")
cat(trans_matrices_table)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
library(kableExtra)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
# Transition Matrces ------------------------------------------------------
trans_05_10 <- table(raj_panch$reservation_2005, raj_panch$reservation_2010)
trans_10_15 <- table(raj_panch$reservation_2010, raj_panch$reservation_2015)
trans_15_20 <- table(raj_panch$reservation_2015, raj_panch$reservation_2020)
# blank dataframe to store results
trans_matrices_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Transition Matrix" = c(
kable(trans_05_10, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_10_15, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_15_20, format = "latex", escape = FALSE, booktabs = TRUE)
)
)
# TeX export
trans_matrices_table <- trans_matrices_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Transition Matrices")
cat(trans_matrices_table)
here()
here
here()
here("tables")
table_output <- file.path(tables_folder, "test.tex")
tables_folder <- here("tables")
table_output <- file.path(tables_folder, "test.tex")
tables_folder <- here("tables")
cat(trans_matrices_table, file = here("tables", "tran_matrices.tex"))
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
library(kableExtra)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
tables_folder <- here("tables")
# Transition Matrces ------------------------------------------------------
trans_05_10 <- table(raj_panch$reservation_2005, raj_panch$reservation_2010)
trans_10_15 <- table(raj_panch$reservation_2010, raj_panch$reservation_2015)
trans_15_20 <- table(raj_panch$reservation_2015, raj_panch$reservation_2020)
# blank dataframe to store results
trans_matrices_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Transition Matrix" = c(
kable(trans_05_10, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_10_15, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_15_20, format = "latex", escape = FALSE, booktabs = TRUE)
)
)
# TeX export
trans_matrices_table <- trans_matrices_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Transition Matrices")
cat(trans_matrices_table, file = here("tables", "tran_matrices.tex"))
# Chi-Squared Test --------------------------------------------------------
chi_sq_test_05_10 <- chisq.test(trans_05_10, simulate.p.value = TRUE)
chi_sq_test_10_15 <- chisq.test(trans_10_15, simulate.p.value = TRUE)
chi_sq_test_15_20 <- chisq.test(trans_15_20, simulate.p.value = TRUE)
# blank dataframe to store results
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(
format(chi_sq_test_05_10$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_10_15$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_15_20$p.value, scientific = TRUE, digits = 2)
)
)
#teX export
chisq_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
cat(chisq_table, file = here("tables", "chisq_table.tex"))
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
library(kableExtra)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
tables_folder <- here("tables")
trans_05_10 <- table(raj_panch$reservation_2005, raj_panch$reservation_2010)
trans_10_15 <- table(raj_panch$reservation_2010, raj_panch$reservation_2015)
trans_15_20 <- table(raj_panch$reservation_2015, raj_panch$reservation_2020)
# blank dataframe to store results
trans_matrices_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Transition Matrix" = c(
kable(trans_05_10, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_10_15, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_15_20, format = "latex", escape = FALSE, booktabs = TRUE)
)
)
# TeX export
trans_matrices_table <- trans_matrices_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Transition Matrices")
cat(trans_matrices_table, file = here("tables", "tran_matrices.tex"))
chi_sq_test_05_10 <- chisq.test(trans_05_10, simulate.p.value = TRUE)
chi_sq_test_10_15 <- chisq.test(trans_10_15, simulate.p.value = TRUE)
chi_sq_test_15_20 <- chisq.test(trans_15_20, simulate.p.value = TRUE)
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(
format(chi_sq_test_05_10$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_10_15$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_15_20$p.value, scientific = TRUE, digits = 2)
)
)
#teX export
chisq_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
#teX export
chisq_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(full_width = FALSE, position = "center")
cat(chisq_table, file = here("tables", "chisq_table.tex"))
#teX export
chisq_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(bootstrap_options = "striped", full_width = FALSE, position = "center")
cat(chisq_table, file = here("tables", "chisq_table.tex"))
#teX export
chisq_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(full_width = FALSE, position = "center")
cat(chisq_table, file = here("tables", "chisq_table.tex"))
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
library(kableExtra)
# Load data
data_dir <- here("..", "data/sarpanch_election_data")
sp_fin_file <- here(data_dir, "sp_2005_2010_2015_2020_fin.csv")
raj_panch <- readr::read_csv(sp_fin_file)
tables_folder <- here("tables")
# Transition Matrces ------------------------------------------------------
trans_05_10 <- table(raj_panch$reservation_2005, raj_panch$reservation_2010)
trans_10_15 <- table(raj_panch$reservation_2010, raj_panch$reservation_2015)
trans_15_20 <- table(raj_panch$reservation_2015, raj_panch$reservation_2020)
# blank dataframe to store results
trans_matrices_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Transition Matrix" = c(
kable(trans_05_10, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_10_15, format = "latex", escape = FALSE, booktabs = TRUE),
kable(trans_15_20, format = "latex", escape = FALSE, booktabs = TRUE)
)
)
# TeX export Beautify this later
trans_matrices_table <- trans_matrices_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Transition Matrices")
cat(trans_matrices_table, file = here("tables", "tran_matrices.tex"))
# Chi-Squared Test --------------------------------------------------------
chi_sq_test_05_10 <- chisq.test(trans_05_10, simulate.p.value = TRUE)
chi_sq_test_10_15 <- chisq.test(trans_10_15, simulate.p.value = TRUE)
chi_sq_test_15_20 <- chisq.test(trans_15_20, simulate.p.value = TRUE)
# blank dataframe to store results
results_store <- data.frame(
"Year Comparison" = c("2005-2010", "2010-2015", "2015-2020"),
"Chi-Squared Test Result" = c(
format(chi_sq_test_05_10$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_10_15$p.value, scientific = TRUE, digits = 2),
format(chi_sq_test_15_20$p.value, scientific = TRUE, digits = 2)
)
)
#teX export Beautify this later
chisq_table <- results_store %>%
kable("latex", escape = FALSE, booktabs = TRUE, caption = "Chi-Squared Test Results") %>%
kable_styling(full_width = FALSE, position = "center")
cat(chisq_table, file = here("tables", "chisq_table.tex"))
