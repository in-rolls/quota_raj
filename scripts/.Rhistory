gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
View(kerala_panch)
levels(kerala_panch$gender)
levels(as.factor(kerala_panch$gender))
View(kerala_panch)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
levels(kerala_panch$year)
# treatment  --------------------------------------------------------------
levels(as.factor((kerala_panch$year))
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year))
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year))
View(kerala_panch)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year))
levels(as.factor(kerala_panch$gender))
levels(as.factor(kerala_panch$reservation))
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0))
View(kerala_panch)
sampled_dataset <- kerala_panch %>%
sample_n(100, replace = FALSE)
View(sampled_dataset)
kerala_panch <- kerala_panch %>%
group_by(gram_panchayat) %>%
mutate(always_treated = ifelse(sum(treat_2020, treat_2015, treat_2020) == 3, 1, 0)) %>%
ungroup()
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0))
kerala_panch <- kerala_panch %>%
group_by(gram_panchayat) %>%
mutate(always_treated = ifelse(sum(treat_2020, treat_2015, treat_2020) == 3, 1, 0)) %>%
ungroup()
View(kerala_panch)
levels(kerala_panch$always_treated)
levels(as.factor(kerala_panch$always_treated))
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year)) # 2010, 15, 20
levels(as.factor(kerala_panch$gender)) # Female male
levels(as.factor(kerala_panch$reservation)) # "General"  "SC"       "SC Woman" "ST"       "ST Woman" "Woman"
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0))
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2020, treat_2015, treat_2020) == 3, 1, 0))
View(kerala_panch)
levels(as.factor(kerala_panch$always_treated))
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year)) # 2010, 15, 20
levels(as.factor(kerala_panch$gender)) # Female male
levels(as.factor(kerala_panch$reservation)) # "General"  "SC"       "SC Woman" "ST"       "ST Woman" "Woman"
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 1, 1, 0))
levels(as.factor(kerala_panch$always_treated))
levels(as.factor(kerala_panch$never_treated))
levels(as.factor(kerala_panch$sometimes_treated))
levels(as.factor(kerala_panch$sometimes_treated))
class(kerala_panch$treat_2010)
View(kerala_panch)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year)) # 2010, 15, 20
levels(as.factor(kerala_panch$gender)) # Female male
levels(as.factor(kerala_panch$reservation)) # "General"  "SC"       "SC Woman" "ST"       "ST Woman" "Woman"
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 1, 1, 0))
View(kerala_panch)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year)) # 2010, 15, 20
levels(as.factor(kerala_panch$gender)) # Female male
levels(as.factor(kerala_panch$reservation)) # "General"  "SC"       "SC Woman" "ST"       "ST Woman" "Woman"
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 0, 1, 0))
levels(as.factor(kerala_panch$sometimes_treated))
levels(as.factor(kerala_panch$never_treated))
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 0, 1, 0))
levels(as.factor(kerala_panch$always_treated))
levels(as.factor(kerala_panch$never_treated))
levels(as.factor(kerala_panch$sometimes_treated))
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year)) # 2010, 15, 20
levels(as.factor(kerala_panch$gender)) # Female male
levels(as.factor(kerala_panch$reservation)) # "General"  "SC"       "SC Woman" "ST"       "ST Woman" "Woman"
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 0, 1, 0),
twice_treated = ifelse(treat_2010 + treat_2015 + treat_2020 = 2, 1, 0))
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
levels(as.factor(kerala_panch$year)) # 2010, 15, 20
levels(as.factor(kerala_panch$gender)) # Female male
levels(as.factor(kerala_panch$reservation)) # "General"  "SC"       "SC Woman" "ST"       "ST Woman" "Woman"
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 0, 1, 0),
twice_treated = ifelse(treat_2010 + treat_2015 + treat_2020 == 2, 1, 0))
levels(as.factor(kerala_panch$twice_treated))
kerala_panch <- kerala_panch %>%
mutate(treat = ifelse(kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
treat_2010 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2010, 1, 0),
treat_2015 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2015, 1, 0),
treat_2020 = ifelse(reservation %in% c("Woman", "SC Woman", "ST Woman") & year == 2020, 1, 0),
dalit_2010 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2010, 1, 0),
dalit_2015 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2015, 1, 0),
dalit_2020 =  ifelse(reservation %in% c("SC Woman", "ST Woman") & year == 2020, 1, 0),
always_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 3, 1, 0),
never_treated = ifelse(sum(treat_2010, treat_2015, treat_2020) == 0, 1, 0),
#sometimes_treated = ifelse(treat_2010 + treat_2015 + treat_2020 > 0, 1, 0),
twice_treated = ifelse(treat_2010 + treat_2015 + treat_2020 >= 2, 1, 0))
levels(as.factor(kerala_panch$twice_treated))
View(kerala_panch)
levels(as.factor(kerala_panch$role
))
kerala_panch <- kerala_panch %>%
mutate(president = ifelse((kerala_panch$role == 'President'),1,0),
vice_president = ifelse(kerala_panch$role == 'Vice President'),1,0)
kerala_panch <- kerala_panch %>%
mutate(president = ifelse(kerala_panch$role == 'President',1,0),
vice_president = ifelse(kerala_panch$role == 'Vice President',1,0))
View(kerala_panch)
kerala_panch <- kerala_panch %>%
mutate(prez_treat = ifelse(president == 1 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0))
View(kerala_panch)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
#Where the offices of Presidents and Chairpersons is reserved for women, the offices of the Vice Presidents and
# Deputy Chairpersons will be unreserved and where the offices of the Presidents and Chairpersons not reserved for women,
# the offices of the Vice Presidents and Deputy Chairpersons will be reserved for women.
levels(as.factor(kerala_panch$role))
kerala_panch <- kerala_panch %>%
mutate(president = ifelse(kerala_panch$role == 'President',1,0),
vice_president = ifelse(kerala_panch$role == 'Vice President',1,0))
kerala_panch <- kerala_panch %>%
mutate(prez_treat = ifelse(president == 1 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
vp_treat = ifelse(president == 0 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"),1,0))
View(kerala_panch)
# Load libs
library(readr)
library(dplyr)
library(xtable)
library(fuzzyjoin)
library(stringr)
library(here)
# Load dat
data_dir <- here("..", "data/kerala")
kerala_files <- here(data_dir, "lsgi-election-kerala.csv")
kerala_data <- readr::read_csv(kerala_files)
# Clean raw data ----------------------------------------------------------
colnames(kerala_data) <- tolower(colnames(kerala_data))
names(kerala_data)
kerala_data <- kerala_data %>%
rename(lgi_type = 'lgi type',
gram_panchayat = 'grama panchayat',
ward_no = 'ward no.',
ward_name = 'ward name',
elected_members = 'elected members',
name_of_member = 'name of member',
gender = 'female/male',
marital_status = 'marital status')
names(kerala_data)
# only retain gram panchayat
kerala_panch <- kerala_data %>%
dplyr::filter(lgi_type=="Grama Panchayat")
levels(as.factor(kerala_panch$lgi_type))
kerala_panch <- kerala_panch %>%
select(-block, -municipality, -corporation)
# treatment  --------------------------------------------------------------
#Where the offices of Presidents and Chairpersons is reserved for women, the offices of the Vice Presidents and
# Deputy Chairpersons will be unreserved and where the offices of the Presidents and Chairpersons not reserved for women,
# the offices of the Vice Presidents and Deputy Chairpersons will be reserved for women.
levels(as.factor(kerala_panch$role))
kerala_panch <- kerala_panch %>%
mutate(president = ifelse(kerala_panch$role == 'President',1,0),
vice_president = ifelse(kerala_panch$role == 'Vice President',1,0))
kerala_panch <- kerala_panch %>%
mutate(prez_treat = ifelse(president == 1 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
vp_treat = ifelse(vice_president == 1 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"),1,0))
View(kerala_panch)
kerala_panch <- kerala_panch %>%
mutate(prez_treat = ifelse(president == 1 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"), 1, 0),
vp_treat = ifelse(vice_president == 1 & kerala_panch$reservation %in% c("Woman", "SC Woman", "ST Woman"),1,0),
prez_treat_2010 = ifelse(prez_treat == 1 & year == 2010,1,0),
prez_treat_2015 = ifelse(prez_treat == 1 & year == 2015,1,0),
prez_treat_2020 = ifelse(prez_treat == 1 & year == 2020,1,0),
vp_treat_2010 = ifelse(vice_president == 1 & year == 2010,1,0),
vp_treat_2015 = ifelse(vice_president == 1 & year == 2015,1,0),
vp_treat_2020 = ifelse(vice_president == 1 & year == 2020,1,0),
prez_always = ifelse(prez_treat_2010 + prez_treat_2015 + prez_treat_2010 == 3,1,0),
prez_never = ifelse(prez_treat_2010 + prez_treat_2015 + prez_treat_2010 == 0,1,0),
prez_twice = ifelse(prez_treat_2010 + prez_treat_2015 + prez_treat_2010 == 2,1,0))
View(kerala_panch)
